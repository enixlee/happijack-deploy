import{n as l,T as j,b8 as se,B as z,b9 as G,aw as T,aH as ce,ba as Q,bb as ie,N as I,bc as Y,J as E,bd as ue,be as fe,bf as de,aN as S,bg as me,bh as ge,aG as Ce,bi as pe,bj as be,bk as ve,bl as xe,bm as ye,bn as he,K as Pe,L as Oe,bo as Ee,U as ke,bp as $e,bq as we,br as Te,bs as je,bt as Ne}from"./index-137281ce.js";import{u as L}from"./useLocale-04913021.js";function Se(){const[e,n]=l.useState([]),r=l.useCallback(t=>(n(o=>[].concat(j(o),[t])),()=>{n(o=>o.filter(c=>c!==t))}),[]);return[e,r]}function D(e){return!!(e&&e.then)}const Ie=e=>{const{type:n,children:r,prefixCls:t,buttonProps:o,close:c,autoFocus:m,emitEvent:f,quitOnNullishReturnValue:i,actionFn:a}=e,s=l.useRef(!1),g=l.useRef(null),[d,u]=se(!1),b=function(){c==null||c.apply(void 0,arguments)};l.useEffect(()=>{let C=null;return m&&(C=setTimeout(()=>{var p;(p=g.current)===null||p===void 0||p.focus()})),()=>{C&&clearTimeout(C)}},[]);const y=C=>{D(C)&&(u(!0),C.then(function(){u(!1,!0),b.apply(void 0,arguments),s.current=!1},p=>(u(!1,!0),s.current=!1,Promise.reject(p))))},v=C=>{if(s.current)return;if(s.current=!0,!a){b();return}let p;if(f){if(p=a(C),i&&!D(p)){s.current=!1,b(C);return}}else if(a.length)p=a(c),s.current=!1;else if(p=a(),!p){b();return}y(p)};return l.createElement(z,Object.assign({},G(n),{onClick:v,loading:d,prefixCls:t},o,{ref:g}),r)},W=Ie;function q(e,n){return T.createElement("span",{className:`${e}-close-x`},n||T.createElement(ce,{className:`${e}-close-icon`}))}const U=e=>{const{okText:n,okType:r="primary",cancelText:t,confirmLoading:o,onOk:c,onCancel:m,okButtonProps:f,cancelButtonProps:i}=e,[a]=L("Modal",Q());return T.createElement(T.Fragment,null,T.createElement(z,Object.assign({onClick:m},i),t||(a==null?void 0:a.cancelText)),T.createElement(z,Object.assign({},G(r),{loading:o,onClick:c},f),n||(a==null?void 0:a.okText)))};var Fe=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};let M;const Be=e=>{M={x:e.pageX,y:e.pageY},setTimeout(()=>{M=null},100)};ie()&&document.documentElement.addEventListener("click",Be,!0);const Re=e=>{var n;const{getPopupContainer:r,getPrefixCls:t,direction:o}=l.useContext(I),c=N=>{const{onCancel:$}=e;$==null||$(N)},m=N=>{const{onOk:$}=e;$==null||$(N)},{prefixCls:f,className:i,rootClassName:a,open:s,wrapClassName:g,centered:d,getContainer:u,closeIcon:b,focusTriggerAfterClose:y=!0,visible:v,width:C=520,footer:p}=e,P=Fe(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose","visible","width","footer"]),x=t("modal",f),h=t(),[k,B]=Y(x),_=E(g,{[`${x}-centered`]:!!d,[`${x}-wrap-rtl`]:o==="rtl"}),A=p===void 0?l.createElement(U,Object.assign({},e,{onOk:m,onCancel:c})):p;return k(l.createElement(ue,null,l.createElement(fe,{status:!0,override:!0},l.createElement(de,Object.assign({width:C},P,{getContainer:u===void 0?r:u,prefixCls:x,rootClassName:E(B,a),wrapClassName:_,footer:A,visible:s??v,mousePosition:(n=P.mousePosition)!==null&&n!==void 0?n:M,onClose:c,closeIcon:q(x,b),focusTriggerAfterClose:y,transitionName:S(h,"zoom",e.transitionName),maskTransitionName:S(h,"fade",e.maskTransitionName),className:E(B,i)})))))},X=Re;function J(e){const{icon:n,onCancel:r,onOk:t,close:o,okText:c,okButtonProps:m,cancelText:f,cancelButtonProps:i,confirmPrefixCls:a,rootPrefixCls:s,type:g,okCancel:d,footer:u,locale:b}=e;let y=n;if(!n&&n!==null)switch(g){case"info":y=l.createElement(be,null);break;case"success":y=l.createElement(pe,null);break;case"error":y=l.createElement(Ce,null);break;default:y=l.createElement(ge,null)}const v=e.okType||"primary",C=d??g==="confirm",p=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[P]=L("Modal"),x=b||P,h=C&&l.createElement(W,{actionFn:r,close:o,autoFocus:p==="cancel",buttonProps:i,prefixCls:`${s}-btn`},f||(x==null?void 0:x.cancelText));return l.createElement("div",{className:`${a}-body-wrapper`},l.createElement("div",{className:`${a}-body`},y,e.title===void 0?null:l.createElement("span",{className:`${a}-title`},e.title),l.createElement("div",{className:`${a}-content`},e.content)),u===void 0?l.createElement("div",{className:`${a}-btns`},h,l.createElement(W,{type:v,actionFn:t,close:o,autoFocus:p==="ok",buttonProps:m,prefixCls:`${s}-btn`},c||(C?x==null?void 0:x.okText:x==null?void 0:x.justOkText))):u)}const _e=e=>{const{close:n,zIndex:r,afterClose:t,visible:o,open:c,keyboard:m,centered:f,getContainer:i,maskStyle:a,direction:s,prefixCls:g,wrapClassName:d,rootPrefixCls:u,iconPrefixCls:b,theme:y,bodyStyle:v,closable:C=!1,closeIcon:p,modalRender:P,focusTriggerAfterClose:x}=e,h=`${g}-confirm`,k=e.width||416,B=e.style||{},_=e.mask===void 0?!0:e.mask,A=e.maskClosable===void 0?!1:e.maskClosable,N=E(h,`${h}-${e.type}`,{[`${h}-rtl`]:s==="rtl"},e.className);return l.createElement(me,{prefixCls:u,iconPrefixCls:b,direction:s,theme:y},l.createElement(X,{prefixCls:g,className:N,wrapClassName:E({[`${h}-centered`]:!!e.centered},d),onCancel:()=>n==null?void 0:n({triggerCancel:!0}),open:c,title:"",footer:null,transitionName:S(u,"zoom",e.transitionName),maskTransitionName:S(u,"fade",e.maskTransitionName),mask:_,maskClosable:A,maskStyle:a,style:B,bodyStyle:v,width:k,zIndex:r,afterClose:t,keyboard:m,centered:f,getContainer:i,closable:C,closeIcon:p,modalRender:P,focusTriggerAfterClose:x},l.createElement(J,Object.assign({},e,{confirmPrefixCls:h}))))},Z=_e,Ae=[],w=Ae;var ze=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};let K="";function Me(){return K}function F(e){const n=document.createDocumentFragment();let r=Object.assign(Object.assign({},e),{close:m,open:!0}),t;function o(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];const g=a.some(d=>d&&d.triggerCancel);e.onCancel&&g&&e.onCancel.apply(e,[()=>{}].concat(j(a.slice(1))));for(let d=0;d<w.length;d++)if(w[d]===m){w.splice(d,1);break}ve(n)}function c(i){var{okText:a,cancelText:s,prefixCls:g,getContainer:d}=i,u=ze(i,["okText","cancelText","prefixCls","getContainer"]);clearTimeout(t),t=setTimeout(()=>{const b=Q(),{getPrefixCls:y,getIconPrefixCls:v,getTheme:C}=ye(),p=y(void 0,Me()),P=g||`${p}-modal`,x=v(),h=C();let k=d;k===!1&&(k=void 0),xe(l.createElement(Z,Object.assign({},u,{getContainer:k,prefixCls:P,rootPrefixCls:p,iconPrefixCls:x,okText:a,locale:b,theme:h,cancelText:s||b.cancelText})),n)})}function m(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];r=Object.assign(Object.assign({},r),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),o.apply(this,a)}}),r.visible&&delete r.visible,c(r)}function f(i){typeof i=="function"?r=i(r):r=Object.assign(Object.assign({},r),i),c(r)}return c(r),w.push(m),{destroy:m,update:f}}function V(e){return Object.assign(Object.assign({},e),{type:"warning"})}function ee(e){return Object.assign(Object.assign({},e),{type:"info"})}function te(e){return Object.assign(Object.assign({},e),{type:"success"})}function ne(e){return Object.assign(Object.assign({},e),{type:"error"})}function oe(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function Le(e){let{rootPrefixCls:n}=e;K=n}const De=(e,n)=>{let{afterClose:r,config:t}=e;var o;const[c,m]=l.useState(!0),[f,i]=l.useState(t),{direction:a,getPrefixCls:s}=l.useContext(I),g=s("modal"),d=s(),u=()=>{var C;r(),(C=f.afterClose)===null||C===void 0||C.call(f)},b=function(){m(!1);for(var C=arguments.length,p=new Array(C),P=0;P<C;P++)p[P]=arguments[P];const x=p.some(h=>h&&h.triggerCancel);f.onCancel&&x&&f.onCancel.apply(f,[()=>{}].concat(j(p.slice(1))))};l.useImperativeHandle(n,()=>({destroy:b,update:C=>{i(p=>Object.assign(Object.assign({},p),C))}}));const y=(o=f.okCancel)!==null&&o!==void 0?o:f.type==="confirm",[v]=L("Modal",he.Modal);return l.createElement(Z,Object.assign({prefixCls:g,rootPrefixCls:d},f,{close:b,open:c,afterClose:u,okText:f.okText||(y?v==null?void 0:v.okText:v==null?void 0:v.justOkText),direction:f.direction||a,cancelText:f.cancelText||(v==null?void 0:v.cancelText)}))},We=l.forwardRef(De);let H=0;const He=l.memo(l.forwardRef((e,n)=>{const[r,t]=Se();return l.useImperativeHandle(n,()=>({patchElement:t}),[]),l.createElement(l.Fragment,null,r)}));function Ge(){const e=l.useRef(null),[n,r]=l.useState([]);l.useEffect(()=>{n.length&&(j(n).forEach(m=>{m()}),r([]))},[n]);const t=l.useCallback(c=>function(f){var i;H+=1;const a=l.createRef();let s;const g=l.createElement(We,{key:`modal-${H}`,config:c(f),ref:a,afterClose:()=>{s==null||s()}});return s=(i=e.current)===null||i===void 0?void 0:i.patchElement(g),s&&w.push(s),{destroy:()=>{function d(){var u;(u=a.current)===null||u===void 0||u.destroy()}a.current?d():r(u=>[].concat(j(u),[d]))},update:d=>{function u(){var b;(b=a.current)===null||b===void 0||b.update(d)}a.current?u():r(b=>[].concat(j(b),[u]))}}},[]);return[l.useMemo(()=>({info:t(ee),success:t(te),error:t(ne),warning:t(V),confirm:t(oe)}),[]),l.createElement(He,{key:"modal-holder",ref:e})]}const R=e=>e?typeof e=="function"?e():e:null,Qe=e=>{const{componentCls:n,popoverColor:r,minWidth:t,fontWeightStrong:o,popoverPadding:c,boxShadowSecondary:m,colorTextHeading:f,borderRadiusLG:i,zIndexPopup:a,marginXS:s,colorBgElevated:g,popoverBg:d}=e;return[{[n]:Object.assign(Object.assign({},ke(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:a,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":g,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${n}-content`]:{position:"relative"},[`${n}-inner`]:{backgroundColor:d,backgroundClip:"padding-box",borderRadius:i,boxShadow:m,padding:c},[`${n}-title`]:{minWidth:t,marginBottom:s,color:f,fontWeight:o},[`${n}-inner-content`]:{color:r}})},$e(e,{colorBg:"var(--antd-arrow-background-color)"}),{[`${n}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${n}-content`]:{display:"inline-block"}}}]},Ye=e=>{const{componentCls:n}=e;return{[n]:we.map(r=>{const t=e[`${r}6`];return{[`&${n}-${r}`]:{"--antd-arrow-background-color":t,[`${n}-inner`]:{backgroundColor:t},[`${n}-arrow`]:{background:"transparent"}}}})}},qe=e=>{const{componentCls:n,lineWidth:r,lineType:t,colorSplit:o,paddingSM:c,controlHeight:m,fontSize:f,lineHeight:i,padding:a}=e,s=m-Math.round(f*i),g=s/2,d=s/2-r,u=a;return{[n]:{[`${n}-inner`]:{padding:0},[`${n}-title`]:{margin:0,padding:`${g}px ${u}px ${d}px`,borderBottom:`${r}px ${t} ${o}`},[`${n}-inner-content`]:{padding:`${c}px ${u}px`}}}},re=Pe("Popover",e=>{const{colorBgElevated:n,colorText:r,wireframe:t}=e,o=Oe(e,{popoverPadding:12,popoverBg:n,popoverColor:r});return[Qe(o),Ye(o),t&&qe(o),Ee(o,"zoom-big")]},e=>({width:177,minWidth:177,zIndexPopup:e.zIndexPopupBase+30}),{deprecatedTokens:[["width","minWidth"]]});var Ue=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};const Xe=(e,n,r)=>{if(!(!n&&!r))return l.createElement(l.Fragment,null,n&&l.createElement("div",{className:`${e}-title`},R(n)),l.createElement("div",{className:`${e}-inner-content`},R(r)))};function Je(e){const{hashId:n,prefixCls:r,className:t,style:o,placement:c="top",title:m,content:f,children:i}=e;return l.createElement("div",{className:E(n,r,`${r}-pure`,`${r}-placement-${c}`,t),style:o},l.createElement("div",{className:`${r}-arrow`}),l.createElement(Te,Object.assign({},e,{className:n,prefixCls:r}),i||Xe(r,m,f)))}function Ze(e){const{prefixCls:n}=e,r=Ue(e,["prefixCls"]),{getPrefixCls:t}=l.useContext(I),o=t("popover",n),[c,m]=re(o);return c(l.createElement(Je,Object.assign({},r,{prefixCls:o,hashId:m})))}var Ke=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};const Ve=e=>{let{title:n,content:r,prefixCls:t}=e;return l.createElement(l.Fragment,null,n&&l.createElement("div",{className:`${t}-title`},R(n)),l.createElement("div",{className:`${t}-inner-content`},R(r)))},le=l.forwardRef((e,n)=>{const{prefixCls:r,title:t,content:o,overlayClassName:c,placement:m="top",trigger:f="hover",mouseEnterDelay:i=.1,mouseLeaveDelay:a=.1,overlayStyle:s={}}=e,g=Ke(e,["prefixCls","title","content","overlayClassName","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),{getPrefixCls:d}=l.useContext(I),u=d("popover",r),[b,y]=re(u),v=d(),C=E(c,y);return b(l.createElement(je,Object.assign({placement:m,trigger:f,mouseEnterDelay:i,mouseLeaveDelay:a,overlayStyle:s},g,{prefixCls:u,overlayClassName:C,ref:n,overlay:t||o?l.createElement(Ve,{prefixCls:u,title:t,content:o}):null,transitionName:S(v,"zoom-big",g.transitionName),"data-popover-inject":!0})))});le._InternalPanelDoNotUseOrYouWillBeFired=Ze;const lt=le;var et=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};const tt=e=>{const{prefixCls:n,className:r,closeIcon:t,closable:o,type:c,title:m,children:f}=e,i=et(e,["prefixCls","className","closeIcon","closable","type","title","children"]),{getPrefixCls:a}=l.useContext(I),s=a(),g=n||a("modal"),[,d]=Y(g),u=`${g}-confirm`;let b={};return c?b={closable:o??!1,title:"",footer:"",children:l.createElement(J,Object.assign({},e,{confirmPrefixCls:u,rootPrefixCls:s,content:f}))}:b={closable:o??!0,title:m,footer:e.footer===void 0?l.createElement(U,Object.assign({},e)):e.footer,children:f},l.createElement(Ne,Object.assign({prefixCls:g,className:E(d,`${g}-pure-panel`,c&&u,c&&`${u}-${c}`,r)},i,{closeIcon:q(g,t),closable:o},b))},nt=tt;function ae(e){return F(V(e))}const O=X;O.useModal=Ge;O.info=function(n){return F(ee(n))};O.success=function(n){return F(te(n))};O.error=function(n){return F(ne(n))};O.warning=ae;O.warn=ae;O.confirm=function(n){return F(oe(n))};O.destroyAll=function(){for(;w.length;){const n=w.pop();n&&n()}};O.config=Le;O._InternalPanelDoNotUseOrYouWillBeFired=nt;const at=O;export{at as M,lt as P};

import{n as a,bx as o,l as u,o as r,by as l,a3 as w,s as t,S as c,C as x,R as b,t as C,B as j,H as S,w as T,D as E}from"./index-df07ca7d.js";import{s as A,c as d}from"./Loading-8c88f13f.js";import{T as h}from"./index-1fba42a4.js";import"./CheckOutlined-3d32f58b.js";import"./useLocale-783cab33.js";import"./TextArea-492ad4e5.js";import"./index-9287fdc4.js";function $(){const[n,m]=a.useState(new o),s=async()=>{const e=await o.create();m(e)},f=async()=>{try{A(),await n.withdraw()}catch(e){S(e!=null&&e.message&&e.message.length<70?e.message:"claim failed"),d()}},i=async(e,p)=>{if(await T.instance.getAddress()!==e)return Promise.resolve();d(),E(`Claimed: ${p} ${n.tokenSymbol}`),await s()},g=u();async function y(){await s()}return a.useEffect(()=>{r.instance.on(l.event,i);try{y()}catch(e){w.error(e!=null&&e.message&&e.message.length<30?e.message:"claim failed")}return()=>{r.instance.off(l.event,i)}},[g.pathname]),t.jsx(t.Fragment,{children:t.jsxs(c,{direction:"vertical",size:"large",style:{display:"grid",justifyContent:"center",alignContent:"center",minHeight:`${x}`},children:[t.jsx(b,{gutter:0,children:t.jsxs(C,{span:"24",style:{maxWidth:"100%"},children:[t.jsx(h.Text,{style:{fontSize:50,fontFamily:"Eras Bold ITC",display:"flex",justifyContent:"center",alignContent:"center",WebkitTextFillColor:"white",WebkitTextStroke:"4px #ae5efb"},children:"Total Amount"}),t.jsx(h.Text,{style:{fontSize:80,fontFamily:"Arimo Hebrew Subset",fontWeight:"bold",color:"#fcdc36",display:"flex",justifyContent:"center",alignContent:"center"},children:`${n.Amount} ${n.tokenSymbol}`}),t.jsx("label",{style:{fontFamily:"Arimo Hebrew Subset",fontSize:30,fontWeight:"bold",color:"white",display:"flex",justifyContent:"center",alignContent:"center"},children:n.totalAmountUSD})]})}),t.jsxs("div",{style:{fontFamily:"Arimo Hebrew Subset",fontStyle:"normal",fontWeight:400,fontSize:20,color:"#91A7BE",width:817,height:25,lineHeight:.5,marginTop:40,marginBottom:60,display:"grid",justifyContent:"center",alignContent:"center"},children:[t.jsxs("p",{children:["The balance includes pending rewards as both a game creator and a game validator,"," "]}),t.jsxs("p",{children:["waiting to be claimed. The displayed balance does not include the rewards that have"," "]}),t.jsx("p",{children:"already been claimed."})]}),t.jsx(c,{style:{display:"flex",justifyContent:"center",alignContent:"center"},children:t.jsx(j,{style:{fontSize:40,fontWeight:700,width:556,height:100,color:"white"},shape:"round",onClick:f,disabled:n.isEmpty,children:"Claim"})})]})})}export{$ as default};

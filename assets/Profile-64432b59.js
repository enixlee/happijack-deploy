import{n as a,bw as o,l as u,o as r,bx as l,a3 as w,s as t,S as c,C as x,R as b,t as C,B as j,H as S,w as T,D as E}from"./index-137281ce.js";import{s as A,c as d}from"./Loading-1f8866ec.js";import{T as h}from"./index-362f7972.js";import"./CheckOutlined-de241dc8.js";import"./useLocale-04913021.js";import"./TextArea-59e255e5.js";import"./index-8b246952.js";function $(){const[n,m]=a.useState(new o),i=async()=>{const e=await o.create();m(e)},f=async()=>{try{A(),await n.withdraw()}catch(e){S(e!=null&&e.message&&e.message.length<70?e.message:"claim failed"),d()}},s=async(e,p)=>{if(await T.instance.getAddress()!==e)return Promise.resolve();d(),E(`Claimed: ${p} ${n.tokenSymbol}`),await i()},g=u();async function y(){await i()}return a.useEffect(()=>{r.instance.on(l.event,s);try{y()}catch(e){w.error(e!=null&&e.message&&e.message.length<30?e.message:"claim failed")}return()=>{r.instance.off(l.event,s)}},[g.pathname]),t.jsx(t.Fragment,{children:t.jsxs(c,{direction:"vertical",size:"large",style:{display:"grid",justifyContent:"center",alignContent:"center",minHeight:`${x}`},children:[t.jsx(b,{gutter:0,children:t.jsxs(C,{span:"24",style:{maxWidth:"100%"},children:[t.jsx(h.Text,{style:{fontSize:50,fontFamily:"Eras Bold ITC",display:"flex",justifyContent:"center",alignContent:"center",WebkitTextFillColor:"white",WebkitTextStroke:"4px #ae5efb"},children:"Total Amount"}),t.jsx(h.Text,{style:{fontSize:80,fontFamily:"Arimo Hebrew Subset",fontWeight:"bold",color:"white",display:"flex",justifyContent:"center",alignContent:"center"},children:`${n.Amount} ${n.tokenSymbol}`}),t.jsx("label",{style:{fontFamily:"Arimo Hebrew Subset",fontSize:30,fontWeight:"bold",color:"white",display:"flex",justifyContent:"center",alignContent:"center"},children:n.totalAmountUSD})]})}),t.jsxs("div",{style:{fontFamily:"Arimo Hebrew Subset",fontStyle:"normal",fontWeight:400,fontSize:20,color:"#91A7BE",width:817,height:25,lineHeight:.5,marginTop:40,marginBottom:60,display:"grid",justifyContent:"center",alignContent:"center"},children:[t.jsxs("p",{children:["The balance includes pending rewards as both a game creator and a game validator,"," "]}),t.jsxs("p",{children:["waiting to be claimed. The displayed balance does not include the rewards that have"," "]}),t.jsx("p",{children:"already been claimed."})]}),t.jsx(c,{style:{display:"flex",justifyContent:"center",alignContent:"center"},children:t.jsx(j,{style:{fontSize:40,fontWeight:700,width:556,height:100,color:"white"},shape:"round",onClick:f,disabled:n.isEmpty,children:"Claim"})})]})})}export{$ as default};
